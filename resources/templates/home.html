<!DOCTYPE html>
<html lang="{{currentLanguage}}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="RenalTales - A supportive community platform for people affected by kidney disorders">
    <meta name="author" content="Ľubomír Polaščín">
    <title>{{pageTitle}}</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    
    {{optimizedCSS}}
    {{containmentCSS}}
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    {{>header}}
    {{>navigation}}
    {{>hero}}
    {{>main-content}}
    {{>footer}}
    
    <!-- JavaScript Files -->
    <script src="/assets/js/theme-switcher.js"></script>
    <script src="/assets/js/language-switcher.js"></script>
    <script>
        // Mobile navigation toggle
        document.addEventListener('DOMContentLoaded', function() {
            const navbarToggler = document.querySelector('');
            const navbarCollapse = document.querySelector('');

            if (navbarToggler && navbarCollapse) {
                navbarToggler.addEventListener('click', function() {
                    const isExpanded = navbarCollapse.classList.contains('show');

                    if (isExpanded) {
                        navbarCollapse.classList.remove('show');
                        navbarToggler.setAttribute('aria-expanded', 'false');
                    } else {
                        navbarCollapse.classList.add('show');
                        navbarToggler.setAttribute('aria-expanded', 'true');
                    }
                });

                // Close mobile menu when clicking on a link
                const navLinks = navbarCollapse.querySelectorAll('');
                navLinks.forEach(function(link) {
                    link.addEventListener('click', function() {
                        navbarCollapse.classList.remove('show');
                        navbarToggler.setAttribute('aria-expanded', 'false');
                    });
                });

                // Close mobile menu when clicking outside
                document.addEventListener('click', function(e) {
                    if (!navbarToggler.contains(e.target) && !navbarCollapse.contains(e.target)) {
                        navbarCollapse.classList.remove('show');
                        navbarToggler.setAttribute('aria-expanded', 'false');
                    }
                });
            }

            // Enhanced keyboard shortcuts help
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey && e.altKey && e.key === 'h') {
                    e.preventDefault();
                    alert('Keyboard Shortcuts:\n\nLanguage Switcher:\nCtrl+Alt+L: Focus language selector\nCtrl+Alt+E: Switch to English\nCtrl+Alt+S: Switch to Slovak\n\nTheme Toggle:\nCtrl+Alt+T: Toggle theme\nCtrl+Alt+D: Switch to dark theme\nCtrl+Alt+Light: Switch to light theme');
                }
                
                // Theme toggle keyboard shortcuts
                if (e.ctrlKey && e.altKey && e.key === 't') {
                    e.preventDefault();
                    const themeToggle = document.getElementById('theme-toggle');
                    if (themeToggle) {
                        themeToggle.click();
                    }
                }
            });
        });
    </script>
    
    {{performanceMonitoring}}
</body>
</html>

